    % This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
\documentclass[runningheads]{llncs}
%
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amsthm}
% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
% \renewcommand\UrlFont{\color{blue}\rmfamily}

\begin{document}
\newtheorem{defi}[theorem]{Definition}
%
\title{Property Graph Exchange Format}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{Ryota Yamanaka\inst{1} \and Shota Matsumoto\inst{2} \and Hirokazu Chiba\inst{3}}
%
\authorrunning{R. Yamanaka et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{
Oracle Corporation, Bangkok 10500, Thailand\\
\email{ryota.yamanaka@oracle.com}
\and
Lifematics Inc., Tokyo 101-0041, Japan\\
\email{shota.matsumoto@lifematics.co.jp}
\and
Database Center for Life Science, Chiba 277-0871, Japan\\
\email{chiba@dbcls.rois.ac.jp}
}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
Property graph is an intuitive data structure for expressing information as network graphs. Although a variety of graph databases are designed for managing data as property graph, the definitions of this data structure and its data formats are various and often depend on the implementation. Therefore, in this paper, we discussed general definition of property graph based on the observation of the existing graph databases, and proposed a practical data format which can store the most information included in other data formats. This data format is useful for keeping property graph data independent from graph database implementation, specially when we generate property graph data intermediately from other data sources in data integration pipelines. We also implemented a prototype of conversion tools to show that the data in this data format can be exchanged for various graph databases.
\keywords{Property Graph \and Graph Database}
\end{abstract}

\section{Introduction}
Increasing amounts of scientific and social data are described and analyzed in the form of graphs.
As a format of graph data to be publicly available, the Resource Description Framework (RDF) is widely used. 
In the context of graph analysis, the property graph model~\cite{angles} is becoming popular; various graph database engines, including Neo4j~\cite{neo4j}, Oracle Labs PGX~\cite{pgx}, and Amazon Neptune~\cite{neptune}, adopt this model. These graph database engines support algorithms for traversal or analyzing graphs. 
%However, currently not many datasets are consistently described in the property graph model, so the application of these powerful engines are limited.
%Recently, a variety of graph database implementations dedicated to analyses on the property graph model have emerged. 
%However, the property graph lacks standardized specifications and the RDF model and the property graph model are not interoperable.
In contrast to the standardized RDF, however, there are no standardized data models for property graphs.
Here, we surveyed the general requirements for representing property graph data and designed a common property graph format, which can be converted to each of the specific database implementations. The common format independent of each database implementation will increase the interoperability of graph databases, and will make it easier for users to import accumulated graph data making the most of graph database engines.

\section{Definition}
Here we define the property graph model that the proposed serialization handles.
We aim at serialization of wide range of property graphs such as graphs with arbitrary number of properties and labels. It also can be a mixed graph, which includes both directed and undirected edges. The property graph model has the following characteristics:

\begin{itemize}
    \item It contains nodes and edges.
    \item Each of nodes and edges can contain properties (key-value pairs).
    \item Each node or edge can be labeled with zero or more labels.
    \item Edges can be directed or undirected.
\end{itemize}

We describe the definition of the model as follows.

\begin{defi}[Property Graph]

A \emph{Property Graph} is a tuple  \\ 
$PG = \langle V, E_u, E_d, E, S, P, e, l_v, l_e, p_v, p_e\rangle$, where:
\begin{enumerate}
    \item $V$ is a set of nodes,
    \item $E_u$ is a set of undirected edges,
    \item $E_d$ is a set of directed edges,
    \item $E$ is a set edges where $E = E_d \cup E_u$,
    \item $S$ is a set of strings,
    \item $P$ contains each properties that has a form $p = \langle k,v \rangle$, where $k \in S$ and $v \in S$,
    \item $e: E \to \langle V \times V \rangle$ is a function which yields the endpoints of each directed or undirected edge (if the edge is directed, the first node is a source and the second node is a destination),
    \item $l_v : V \to 2^S$ is a function mapping each nodes to their multiple labels,
    \item $l_e : E \to 2^S$ is a function mapping each edge to their multiple labels,
    \item $p_v : V \to 2^P$ is a function used to assign nodes to their multiple properties.
    \item $p_e : E \to 2^P$ is a function used to assign edges to their multiple properties.
\end{enumerate}
\end{defi}


\section{Data Format}

Figure~\ref{fig:format-pg} shows an example of property graph format.

\begin{figure}[!t]
\vspace{2mm}
\begin{scriptsize}
\begin{verbatim}
# NODES
101  :person  name:"Barack Obama"  country:"United States"
102  :person  name:"Shinzo Abe"  country:Japan

# EDGES
101  104  :admires  score:20.0  since:2015
102  103  :collaborates  since:2010
\end{verbatim}
\end{scriptsize}
\caption{Flat Text Format}
\label{fig:format-pg}
\end{figure}

\begin{figure}[!t]
\vspace{2mm}
\begin{scriptsize}
\begin{verbatim}
{
  "nodes":[
    {"_id":101, "_label":"person", "name":"Barack Obama", "country":"United States"}
  , {"_id":101, "_label":"person", "name":"Shinzo Abe", "country":"United States"}
  ],
  "edges":[
    {"_from":101, "_to":104, "_label":"admires", "score":20.0, "since":2015}
  , {"_from":102, "_to":103, "_label":"collaborates", "since":2010}
  ]
}
\end{verbatim}
\end{scriptsize}
\caption{JSON Format}
\label{fig:format-jsonpg}
\end{figure}

\section{Conclusion}
In this work, we defined property graph independently from graph database implementation and proposed practical data formats. We also implemented the prototype of tools to convert this data format to other formats. 
It will increase the interoperability of graph databases, and will make it easier for users to import accumulated graph data making the most of graph database engines.
%Future works include ..

%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
% \bibliographystyle{splncs04}
% \bibliography{mybibliography}
%
\begin{thebibliography}{8}

\bibitem{angles}
Angles, R., Arenas, M., Barcel√≥, P., Hogan, A., Reutter, J., Vrgoc, D.: Foundations of Modern Query Languages for Graph Databases. ACM Computing Surveys (CSUR), 50(5), 68 (2017)

\bibitem{neo4j}
The Neo4j Graph Platform, \url{https://neo4j.com/}.

\bibitem{pgx}
Oracle Labs Parallel Graph AnalytiX (PGX), \url{https://www.oracle.com/technetwork/oracle-labs/parallel-graph-analytix/overview/index.html}.

\bibitem{neptune}
Amazon Neptune, \url{https://aws.amazon.com/neptune/}.

\bibitem{hartig}
Hartig, O.: Reconciliation of RDF* and property graphs. arXiv preprint arXiv:1409.3288 (2014)

\end{thebibliography}
\end{document}
